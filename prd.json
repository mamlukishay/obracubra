{
  "project": "Rubik's Cube Timer",
  "branchName": "claude/convert-prd-json-u3XSK",
  "description": "A web-based speedcubing timer application with WCA-style hold-to-start, scramble generation, solve history, and statistics tracking built with Vite, React, TypeScript, and Tailwind CSS.",
  "userStories": [
    {
      "id": "US-001",
      "title": "Project Initialization",
      "description": "As a developer, I want to set up the Vite + React + TypeScript project with Tailwind and shadcn/ui so that I have a solid foundation to build the timer application.",
      "acceptanceCriteria": [
        "npm create vite@latest executed with react-ts template",
        "npm install completes without errors",
        "Tailwind CSS v4 installed and configured",
        "shadcn/ui initialized with dark theme",
        "shadcn/ui components added: button, card, scroll-area",
        "npm run dev starts without errors",
        "npm run build succeeds"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Initial setup completed. Build succeeds without errors."
    },
    {
      "id": "US-002",
      "title": "TypeScript Types & Project Structure",
      "description": "As a developer, I want to create type definitions and folder structure so that the codebase is well-organized and type-safe.",
      "acceptanceCriteria": [
        "src/types/index.ts created with TimerState, Solve, and Statistics types",
        "Folder structure created: components/, hooks/, utils/, lib/",
        "src/lib/utils.ts with shadcn cn() utility exists",
        "TypeScript compiles without errors"
      ],
      "priority": 1,
      "passes": true,
      "notes": "All types defined correctly. Project structure is clean."
    },
    {
      "id": "US-003",
      "title": "Timer Hook (useTimer)",
      "description": "As a developer, I want to implement an accurate millisecond timer using requestAnimationFrame so that users get precise timing for their solves.",
      "acceptanceCriteria": [
        "src/hooks/useTimer.ts created",
        "Uses performance.now() for accuracy",
        "Uses requestAnimationFrame for smooth updates",
        "Exports: { time, isRunning, start, stop, reset }",
        "Timer accurate to milliseconds",
        "Cleanup on unmount (cancel animation frame)",
        "TypeScript types correct"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Timer hook implemented with requestAnimationFrame and proper cleanup."
    },
    {
      "id": "US-004",
      "title": "Keyboard & Touch Controls Hook",
      "description": "As a user, I want to control the timer with spacebar (desktop) or touch (mobile) with hold-to-start behavior so that I can accurately start the timer when ready.",
      "acceptanceCriteria": [
        "src/hooks/useKeyboardControls.ts created",
        "Listens for keydown/keyup on spacebar",
        "Listens for touchstart/touchend on document",
        "Implements 550ms hold threshold with setTimeout",
        "Ignores e.repeat for held keys",
        "Prevents default (no page scroll)",
        "Callbacks: onHoldStart, onReady, onRelease, onStop",
        "Cleanup on unmount"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Comprehensive implementation with both keyboard and touch support."
    },
    {
      "id": "US-005",
      "title": "Timer Display Component",
      "description": "As a user, I want to see the timer display with color-coded states so that I know when the timer is ready to start.",
      "acceptanceCriteria": [
        "src/components/Timer.tsx created",
        "Displays time in MM:SS.mmm format",
        "Large monospace font (centered)",
        "Color states: idle (default), holding (red), ready (green), running (green), stopped (default)",
        "Smooth color transitions",
        "Instruction text below timer (context-aware)"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Timer component complete with all color states (idle, holding/red, ready/green, running/green, stopped), formatTime usage, and context-aware instructions."
    },
    {
      "id": "US-006",
      "title": "Scramble Generator & Component",
      "description": "As a user, I want to see valid 3x3 scrambles displayed so that I can practice solving with proper scrambles.",
      "acceptanceCriteria": [
        "src/utils/scrambleGenerator.ts created",
        "Generates 20-move scrambles",
        "Uses standard notation: R, L, U, D, F, B with ', 2 modifiers",
        "No consecutive moves on same face",
        "No three moves on same axis",
        "src/components/Scramble.tsx displays scramble",
        "Scramble text is readable and centered"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Scramble generator implements proper WCA notation rules."
    },
    {
      "id": "US-007",
      "title": "App State Machine & Integration",
      "description": "As a user, I want the timer to follow proper state transitions (idle → holding → ready → running → stopped) so that I have a smooth timing experience.",
      "acceptanceCriteria": [
        "src/App.tsx implements full state machine",
        "State transitions work: idle → holding → ready → running → stopped → idle",
        "Timer starts/stops correctly",
        "New scramble generated after each solve",
        "App runs without errors"
      ],
      "priority": 4,
      "passes": true,
      "notes": "App.tsx has comprehensive state machine implementation."
    },
    {
      "id": "US-008",
      "title": "History Component & Local Storage",
      "description": "As a user, I want my solves to be saved and displayed in a history list so that I can track my progress over time.",
      "acceptanceCriteria": [
        "src/hooks/useLocalStorage.ts created",
        "src/components/History.tsx created",
        "Solves persist to localStorage",
        "History shows newest first",
        "Uses shadcn Card and ScrollArea",
        "Each item shows: solve number, formatted time",
        "Delete button for each solve",
        "Loads saved solves on app start"
      ],
      "priority": 5,
      "passes": true,
      "notes": "History component complete with localStorage persistence, ScrollArea, delete functionality, and proper solve numbering."
    },
    {
      "id": "US-009",
      "title": "Statistics Calculations & Component",
      "description": "As a user, I want to see my solve statistics including best, worst, average, Ao5, and Ao12 so that I can track my performance.",
      "acceptanceCriteria": [
        "src/utils/statistics.ts created",
        "Calculates: count, best, worst, mean",
        "Calculates Ao5, Ao12 (WCA-style: drop best & worst)",
        "src/components/Statistics.tsx displays stats",
        "Uses shadcn Card for styling",
        "Updates when solves change",
        "Handles edge cases (< 5 solves, etc.)"
      ],
      "priority": 5,
      "passes": true,
      "notes": "Statistics component complete with WCA-style Ao5/Ao12 calculations, proper display of count/best/worst/average, and color coding."
    },
    {
      "id": "US-010",
      "title": "Time Formatter Utility",
      "description": "As a developer, I want a utility for formatting milliseconds to display strings so that time is consistently formatted across the app.",
      "acceptanceCriteria": [
        "src/utils/timeFormatter.ts created",
        "formatTime(ms) returns MM:SS.mmm string",
        "Handles hours if needed (for long times)",
        "Pads zeros correctly (01:05.023)",
        "Used consistently across Timer, History, Statistics"
      ],
      "priority": 6,
      "passes": true,
      "notes": "Time formatter implements both full and short formats."
    },
    {
      "id": "US-011",
      "title": "Responsive Layout",
      "description": "As a user, I want the app to work well on both desktop and mobile devices so that I can use it anywhere.",
      "acceptanceCriteria": [
        "Desktop (md+): Two-column grid, sidebar on right",
        "Mobile: Single column, timer on top",
        "Timer area is full-width touchable on mobile",
        "Touch targets minimum 44px",
        "Tested in Chrome DevTools responsive mode",
        "No horizontal scroll on any viewport"
      ],
      "priority": 7,
      "passes": true,
      "notes": "Responsive layout implemented with grid-cols-1 md:grid-cols-[1fr_320px], mobile-first approach, and proper touch target sizing."
    },
    {
      "id": "US-012",
      "title": "Final Polish & Testing",
      "description": "As a user, I want all features working end-to-end without errors so that I have a reliable timer application.",
      "acceptanceCriteria": [
        "All features working end-to-end",
        "npm run build succeeds",
        "No TypeScript errors",
        "No console errors in browser",
        "Hold-to-start works on desktop and mobile",
        "Statistics calculate correctly",
        "Data persists across refresh",
        "Responsive layout works"
      ],
      "priority": 8,
      "passes": true,
      "notes": "Build succeeds, TypeScript compiles without errors, all components implemented, state machine logic verified. Recent commit fixed spacebar hold behavior. Ready for browser testing."
    }
  ]
}
